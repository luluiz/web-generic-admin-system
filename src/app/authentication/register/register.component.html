<app-loading [loading]="loading"></app-loading>
<div class="login-register">
    <div class=" login-register-box">
        <mat-card>
            <mat-card-content>
                <form [formGroup]="form" (ngSubmit)="onSubmit()" style="font-size: 14px;">
                    <div class="text-center">
                        <!-- <img alt="homepage" src="assets/images/logo.png" [routerLink]="['/auth/login']" style="width: 200px; cursor: pointer;"> -->
                        <h4 class="m-b-0">Register</h4>
                    </div>
                    <div fxLayout="row wrap">
                        <mat-form-field fxFlex="100">
                            <mat-select placeholder="Type" formControlName="type" required>
                                <mat-option *ngFor="let item of types" [value]="item"> {{item}} </mat-option>
                            </mat-select>
                            <mat-error *ngIf="form.get('type')?.hasError('required') && form.get('type')?.touched">Select a type. </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <input matInput placeholder="Name" type="name" formControlName="name" required>
                            <mat-error *ngIf="name?.hasError('required') && name?.touched">Name is required.</mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <input matInput placeholder="E-mail" type="email" formControlName="email" required>
                            <mat-error *ngIf="email?.hasError('required') && email?.touched">Email is required.</mat-error>
                            <mat-error *ngIf="email?.errors?.email && email?.touched">Enter a valid email.</mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <input matInput type="password" placeholder="Password" formControlName="password" required>
                            <mat-error *ngIf="password?.hasError('required') && password?.touched">Password is required.</mat-error>
                            <mat-error *ngIf="password?.hasError('pattern') && password?.touched">
                                <li>Must contain between 8 and 30 characters</li>
                                <li>Must contain at least 1 letter and 1 number</li>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex="100">
                            <input matInput placeholder="Password confirmation" formControlName="password_confirm" type="password" required>
                            <mat-error *ngIf="password_confirm?.hasError('required') && password_confirm?.touched">Confirm password.</mat-error>
                            <mat-error *ngIf="password_confirm?.errors?.equalTo">Passwords are not equal.</mat-error>
                        </mat-form-field>

                        <div fxFlex="100" style="padding-top: 10px;">
                            <mat-checkbox class="font-14" formControlName="terms">I agree with the
                                <a href="javascript:void(0)" class="link text-info">terms</a>.</mat-checkbox>
                        </div>
                        <button mat-raised-button color="primary" class="btn-block btn-lg m-t-20 m-b-20" type="submit">Create Account</button>

                        <div class="text-center" fxFlex="100">
                            <span>Already have an account?
                                <a [routerLink]="['/auth/login']" class="link text-info"> Login</a>
                            </span>
                        </div>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>